<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Access Confirmed - Kane's Bookstore</title>
    <meta name="description"
        content="Your access has been confirmed! Start reading your digital content or access your NFT-gated books.">

    <!-- Kane's Bookstore Styles -->
    <link rel="stylesheet" href="assets/css/kanes-bookstore.css">

    <!-- Prevent indexing of confirmation pages -->
    <meta name="robots" content="noindex, nofollow">

    <!-- Additional styles for enhanced flow -->
    <style>
        .access-type-indicator {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .access-type-indicator::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% {
                left: -100%;
            }

            100% {
                left: 100%;
            }
        }

        .contextual-message {
            background: #f0f9ff;
            border: 2px solid #bae6fd;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .contextual-message.nft-access {
            background: linear-gradient(135deg, #fdf4ff 0%, #f3e8ff 100%);
            border-color: #c084fc;
        }

        .contextual-message.purchase-success {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-color: #86efac;
        }

        .contextual-message h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #1f2937;
        }

        .contextual-message p {
            color: #4b5563;
            margin-bottom: 1rem;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .quick-actions.three-columns {
            grid-template-columns: repeat(3, 1fr);
        }

        .quick-actions.four-columns {
            grid-template-columns: repeat(4, 1fr);
        }

        .quick-action {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .quick-action:hover {
            border-color: #3b82f6;
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.1);
        }

        .quick-action.primary {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border-color: #3b82f6;
        }

        .quick-action.primary:hover {
            border-color: #1d4ed8;
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.2);
        }

        .quick-action-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .quick-action h4 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .quick-action p {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 1rem;
        }

        .quick-action-btn {
            background: #f3f4f6;
            color: #1f2937;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .quick-action.primary .quick-action-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .quick-action-btn:hover {
            background: #e5e7eb;
            transform: translateY(-2px);
        }

        .quick-action.primary .quick-action-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .flow-progress {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 2rem 0;
            gap: 1rem;
        }

        .progress-step {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            background: #f3f4f6;
            color: #6b7280;
            font-size: 0.9rem;
        }

        .progress-step.completed {
            background: #10b981;
            color: white;
        }

        .progress-step.current {
            background: #3b82f6;
            color: white;
        }

        .progress-arrow {
            color: #d1d5db;
            font-size: 1.2rem;
        }

        .user-guidance {
            background: #fffbeb;
            border: 1px solid #fed7aa;
            border-radius: 8px;
            padding: 1rem;
            margin: 2rem 0;
            text-align: center;
        }

        .user-guidance h4 {
            color: #92400e;
            margin-bottom: 0.5rem;
        }

        .user-guidance p {
            color: #b45309;
            margin: 0;
        }

        .reading-recommendations {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .reading-recommendations h4 {
            color: #1f2937;
            margin-bottom: 1rem;
            text-align: center;
        }

        .recommendation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .recommendation-item {
            background: #f9fafb;
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }

        .recommendation-item h5 {
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .recommendation-item p {
            color: #6b7280;
            font-size: 0.9rem;
            margin: 0;
        }

        .quick-action.nft-exclusive {
            border: 2px solid #c084fc;
            background: linear-gradient(135deg, #fdf4ff 0%, #f3e8ff 100%);
        }

        .quick-action.nft-exclusive:hover {
            border-color: #a855f7;
            box-shadow: 0 10px 25px rgba(192, 132, 252, 0.2);
        }

        .quick-action.purchase-exclusive {
            border: 2px solid #10b981;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        }

        .quick-action.purchase-exclusive:hover {
            border-color: #059669;
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.2);
        }

        .action-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #3b82f6;
            color: white;
            font-size: 0.7rem;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-weight: 600;
        }

        .action-badge.nft {
            background: #a855f7;
        }

        .action-badge.purchase {
            background: #10b981;
        }

        @media (max-width: 768px) {
            .quick-actions {
                grid-template-columns: 1fr;
            }

            .quick-actions.three-columns,
            .quick-actions.four-columns {
                grid-template-columns: 1fr;
            }

            .flow-progress {
                flex-wrap: wrap;
            }

            .progress-step {
                font-size: 0.8rem;
                padding: 0.4rem 0.8rem;
            }
        }
    </style>
</head>

<body>
    <!-- Access Type Indicator -->
    <div id="access-type-indicator" class="access-type-indicator">
        <div id="access-type-text">üéâ Access Confirmed!</div>
    </div>

    <!-- Header -->
    <header class="kb-header">
        <div class="container">
            <nav class="kb-nav">
                <a href="/" class="kb-logo">Kane's Bookstore</a>
                <ul class="kb-nav-links">
                    <li><a href="/products">Products</a></li>
                    <li><a href="/account">My Account</a></li>
                    <li><a href="/support">Support</a></li>
                </ul>
                <div class="wallet-connection">
                    <div id="wallet-status" class="wallet-info" style="display: none;">
                        <span class="wallet-indicator">
                            üîí <span id="connected-wallet"></span>
                        </span>
                    </div>
                    <button id="connect-wallet-btn" class="btn btn-primary" onclick="openWalletModal()">
                        Connect Wallet
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Flow Progress -->
    <div class="container">
        <div class="flow-progress">
            <div class="progress-step completed">
                <span>‚úì</span>
                <span>Selected Access</span>
            </div>
            <div class="progress-arrow">‚Üí</div>
            <div class="progress-step completed">
                <span>‚úì</span>
                <span id="verification-step">Verified</span>
            </div>
            <div class="progress-arrow">‚Üí</div>
            <div class="progress-step current">
                <span>üìö</span>
                <span>Ready to Read</span>
            </div>
        </div>
    </div>

    <!-- Success Header -->
    <section class="success-header">
        <div class="container">
            <div class="success-icon">üéâ</div>
            <h1 class="success-title" id="success-title">Access Confirmed!</h1>
            <p class="success-subtitle" id="success-subtitle">You now have full access to your digital content.</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container" style="padding: 2rem 0;">

        <!-- Contextual Message -->
        <div id="contextual-message" class="contextual-message">
            <h3 id="contextual-title">Welcome to Your Digital Library</h3>
            <p id="contextual-description">Your access has been confirmed and you can now start reading.</p>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <div class="quick-action primary">
                <div class="quick-action-icon">üìñ</div>
                <h4>Start Reading Now</h4>
                <p>Jump directly into your book with our premium reader</p>
                <button class="quick-action-btn" onclick="startReading()">
                    Open Reader
                </button>
            </div>

            <div class="quick-action" id="download-action" style="display: none;">
                <div class="quick-action-icon">üì•</div>
                <h4>Download Your Book</h4>
                <p>Get a permanent copy for offline reading</p>
                <button class="quick-action-btn" onclick="downloadBook()">
                    Download PDF
                </button>
            </div>

            <div class="quick-action" id="nft-action" style="display: none;">
                <div class="quick-action-icon">üéÅ</div>
                <h4>NFT Certificate</h4>
                <p>Download your digital ownership certificate</p>
                <button class="quick-action-btn" onclick="downloadNFT()">
                    Get Certificate
                </button>
            </div>

            <div class="quick-action">
                <div class="quick-action-icon">üè†</div>
                <h4>Continue Shopping</h4>
                <p>Explore more books in our collection</p>
                <button class="quick-action-btn" onclick="continueShopping()">
                    Browse Books
                </button>
            </div>
        </div>

        <!-- User Guidance -->
        <div class="user-guidance">
            <h4>üí° What's Next?</h4>
            <p id="guidance-text">Click "Start Reading Now" to begin reading, or explore our other books while you're
                here!</p>
        </div>

        <!-- Order Details (for purchases) -->
        <section class="order-details" id="order-details-section" style="display: none;">
            <div class="order-header">
                <div>
                    <div class="order-number" id="order-number">Order #KB-2024-001</div>
                    <div class="order-date" id="order-date">December 15, 2024, 2:30 PM</div>
                </div>
                <div class="order-status">
                    <span
                        style="background: #d4edda; color: #155724; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; font-weight: 600;">
                        ‚úÖ Completed
                    </span>
                </div>
            </div>

            <div class="order-items">
                <div class="order-item-detail">
                    <div class="item-details">
                        <div class="item-name" id="product-name">Digital Marketing Mastery</div>
                        <div class="item-meta">
                            <span>Amount: <span id="order-amount">$25.00</span></span> |
                            <span>Method: <span id="payment-method">Stripe</span></span> |
                            <span>Transaction: <span id="transaction-id">pi_3N...</span></span>
                        </div>
                    </div>
                    <div class="item-price" id="item-price">$25.00</div>
                </div>
            </div>

            <div style="margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                <p>üìß Receipt sent to: <span id="customer-email">customer@example.com</span></p>
                <p>‚ö° Expected delivery: <strong>Instant</strong></p>
            </div>
        </section>

        <!-- NFT Access Details (for NFT holders) -->
        <section class="nft-access-details" id="nft-access-section" style="display: none;">
            <div
                style="background: linear-gradient(135deg, #c084fc 0%, #a855f7 100%); color: white; padding: 2rem; border-radius: 12px; margin: 2rem 0;">
                <h4>üé® NFT Access Verified</h4>
                <div style="margin-top: 1rem;">
                    <p><strong>Verified Collection:</strong> <span id="nft-collection">Kane's Premium Collection</span>
                    </p>
                    <p><strong>Wallet Address:</strong> <span id="nft-wallet">0x742d35Cc6634C0532925a3b8D1c6F0de</span>
                    </p>
                    <p><strong>NFT Token ID:</strong> <span id="nft-token-id">#1234</span></p>
                    <p><strong>Access Level:</strong> <span id="access-level">Premium</span></p>
                </div>
                <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.2);">
                    <p style="opacity: 0.9; margin: 0;">üåü Your NFT grants you free access to this premium content!</p>
                </div>
            </div>
        </section>

        <!-- Reading Recommendations -->
        <div class="reading-recommendations">
            <h4>üìö Recommended Next Steps</h4>
            <div class="recommendation-grid" id="recommendations-grid">
                <!-- Recommendations will be populated by JavaScript -->
            </div>
        </div>

        <!-- Security Notice -->
        <section
            style="background: var(--light-gray); padding: 2rem; border-radius: var(--border-radius-lg); text-align: center; margin: 2rem 0;">
            <h4>üîí Secure Access</h4>
            <p style="margin-bottom: 0.5rem;">Your access has been securely verified and encrypted.</p>
            <p style="font-size: 0.9rem; color: var(--gray-color); margin: 0;">
                Session ID: <span id="session-id" style="font-family: monospace;">...</span>
            </p>
        </section>
    </main>

    <!-- JavaScript -->
    <script>
        // Detect access type from URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const accessType = urlParams.get('access') || 'purchase';
        const source = urlParams.get('source') || 'direct';
        const walletAddress = urlParams.get('wallet');
        const nftTokenId = urlParams.get('nft_token');

        // Initialize page based on access type
        document.addEventListener('DOMContentLoaded', function () {
            initializePageFlow();
            setupRecommendations();
            generateSessionId();
        });

        function organizeQuickActions() {
            const quickActions = document.querySelector('.quick-actions');
            const visibleActions = Array.from(quickActions.children).filter(action =>
                action.style.display !== 'none'
            );

            // Remove existing column classes
            quickActions.classList.remove('three-columns', 'four-columns');

            // Add appropriate column class based on visible actions
            if (visibleActions.length === 3) {
                quickActions.classList.add('three-columns');
            } else if (visibleActions.length === 4) {
                quickActions.classList.add('four-columns');
            }
        }

        function initializePageFlow() {
            const indicator = document.getElementById('access-type-indicator');
            const indicatorText = document.getElementById('access-type-text');
            const contextualMessage = document.getElementById('contextual-message');
            const contextualTitle = document.getElementById('contextual-title');
            const contextualDescription = document.getElementById('contextual-description');
            const successTitle = document.getElementById('success-title');
            const successSubtitle = document.getElementById('success-subtitle');
            const verificationStep = document.getElementById('verification-step');
            const guidanceText = document.getElementById('guidance-text');

            if (accessType === 'nft') {
                // NFT Access Flow
                indicatorText.textContent = 'üé® NFT Access Verified!';
                indicator.style.background = 'linear-gradient(135deg, #c084fc 0%, #a855f7 100%)';

                contextualMessage.classList.add('nft-access');
                contextualTitle.textContent = 'üé® Welcome, NFT Holder!';
                contextualDescription.textContent = 'Your NFT has been verified and grants you free access to this premium content. No payment required!';

                successTitle.textContent = 'NFT Access Verified!';
                successSubtitle.textContent = 'Your digital collectible grants you free access to premium content.';

                verificationStep.textContent = 'NFT Verified';
                guidanceText.textContent = 'Your NFT grants you free access! Click "Start Reading Now" to begin, or browse our collection to see what other NFTs unlock.';

                // Show NFT-specific sections and actions
                document.getElementById('nft-access-section').style.display = 'block';
                document.getElementById('download-action').style.display = 'block';
                document.getElementById('nft-action').style.display = 'block';

                // Update action descriptions for NFT holders
                updateActionForNFTHolder();

                // Populate NFT details
                if (walletAddress) {
                    document.getElementById('nft-wallet').textContent = walletAddress;
                }
                if (nftTokenId) {
                    document.getElementById('nft-token-id').textContent = `#${nftTokenId}`;
                }

                // Analytics
                gtag('event', 'nft_access_confirmed', {
                    wallet_address: walletAddress,
                    nft_token_id: nftTokenId,
                    collection: 'kanes-premium-collection'
                });

            } else {
                // Purchase Flow
                indicatorText.textContent = 'üí≥ Payment Successful!';
                indicator.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';

                contextualMessage.classList.add('purchase-success');
                contextualTitle.textContent = 'üí≥ Thank You for Your Purchase!';
                contextualDescription.textContent = 'Your payment has been processed successfully. You now have lifetime access to your digital content.';

                successTitle.textContent = 'Payment Successful!';
                successSubtitle.textContent = 'Thank you for your purchase. Your content is ready for download.';

                verificationStep.textContent = 'Payment Verified';
                guidanceText.textContent = 'Your payment is complete! Start reading now, or download your book for offline access.';

                // Show purchase-specific sections and actions
                document.getElementById('order-details-section').style.display = 'block';
                document.getElementById('download-action').style.display = 'block';
                document.getElementById('nft-action').style.display = 'block';

                // Update action descriptions for purchasers
                updateActionForPurchaser();

                // Populate order details
                const orderNumber = `KB-${Date.now().toString().slice(-6)}`;
                const orderDate = new Date().toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });

                document.getElementById('order-number').textContent = `Order #${orderNumber}`;
                document.getElementById('order-date').textContent = orderDate;

                // Analytics
                gtag('event', 'purchase', {
                    transaction_id: orderNumber,
                    value: 25.00,
                    currency: 'USD',
                    items: [{
                        item_id: 'digital-marketing-mastery',
                        item_name: 'Digital Marketing Mastery',
                        category: 'Digital Products',
                        price: 25.00,
                        quantity: 1
                    }]
                });
            }

            // Organize the quick actions layout after setting visibility
            setTimeout(() => {
                organizeQuickActions();
            }, 100);
        }

        function setupRecommendations() {
            const grid = document.getElementById('recommendations-grid');
            let recommendations = [];

            if (accessType === 'nft') {
                recommendations = [
                    {
                        title: 'üé® Explore NFT Collection',
                        description: 'View all books available with your NFT collection'
                    },
                    {
                        title: 'üîó Connect More Wallets',
                        description: 'Link additional wallets to access more content'
                    },
                    {
                        title: 'üì± Mobile Reading',
                        description: 'Download our mobile app for on-the-go reading'
                    },
                    {
                        title: 'üë• Join Community',
                        description: 'Connect with other NFT holders in our exclusive community'
                    }
                ];
            } else {
                recommendations = [
                    {
                        title: 'üìö Build Your Library',
                        description: 'Browse our collection and save on bundle deals'
                    },
                    {
                        title: 'üéÅ Get NFT Benefits',
                        description: 'Consider purchasing NFTs for free access to future books'
                    },
                    {
                        title: '‚≠ê Leave a Review',
                        description: 'Help others discover great content with your feedback'
                    },
                    {
                        title: 'üìß Subscribe for Updates',
                        description: 'Get notified about new releases and special offers'
                    }
                ];
            }

            grid.innerHTML = recommendations.map(rec => `
                <div class="recommendation-item">
                    <h5>${rec.title}</h5>
                    <p>${rec.description}</p>
                </div>
            `).join('');
        }

        function generateSessionId() {
            const sessionId = 'sess_' + Math.random().toString(36).substr(2, 9);
            document.getElementById('session-id').textContent = sessionId;
        }

        function updateActionForNFTHolder() {
            // Update download action for NFT holders
            const downloadAction = document.getElementById('download-action');
            if (downloadAction) {
                const downloadTitle = downloadAction.querySelector('h4');
                const downloadDesc = downloadAction.querySelector('p');
                const downloadBtn = downloadAction.querySelector('.quick-action-btn');

                downloadAction.classList.add('nft-exclusive');
                downloadAction.innerHTML += '<div class="action-badge nft">NFT</div>';

                downloadTitle.textContent = 'Access Your Content';
                downloadDesc.textContent = 'Read online or download for offline access (NFT privilege)';
                downloadBtn.textContent = 'Download Book';
            }

            // Update NFT action for NFT holders
            const nftAction = document.getElementById('nft-action');
            if (nftAction) {
                const nftTitle = nftAction.querySelector('h4');
                const nftDesc = nftAction.querySelector('p');
                const nftBtn = nftAction.querySelector('.quick-action-btn');

                nftAction.classList.add('nft-exclusive');
                nftAction.innerHTML += '<div class="action-badge nft">YOUR NFT</div>';

                nftTitle.textContent = 'Your NFT Proof';
                nftDesc.textContent = 'View your NFT that grants access to this content';
                nftBtn.textContent = 'View NFT Details';
            }
        }

        function updateActionForPurchaser() {
            // Update download action for purchasers
            const downloadAction = document.getElementById('download-action');
            if (downloadAction) {
                const downloadTitle = downloadAction.querySelector('h4');
                const downloadDesc = downloadAction.querySelector('p');
                const downloadBtn = downloadAction.querySelector('.quick-action-btn');

                downloadAction.classList.add('purchase-exclusive');
                downloadAction.innerHTML += '<div class="action-badge purchase">PURCHASED</div>';

                downloadTitle.textContent = 'Download Your Book';
                downloadDesc.textContent = 'Get a permanent copy for offline reading';
                downloadBtn.textContent = 'Download PDF';
            }

            // Update NFT action for purchasers
            const nftAction = document.getElementById('nft-action');
            if (nftAction) {
                const nftTitle = nftAction.querySelector('h4');
                const nftDesc = nftAction.querySelector('p');
                const nftBtn = nftAction.querySelector('.quick-action-btn');

                nftAction.classList.add('purchase-exclusive');
                nftAction.innerHTML += '<div class="action-badge purchase">BONUS</div>';

                nftTitle.textContent = 'NFT Certificate';
                nftDesc.textContent = 'Download your digital ownership certificate';
                nftBtn.textContent = 'Get Certificate';
            }
        }

        // Action functions
        function startReading() {
            gtag('event', 'start_reading', {
                access_type: accessType,
                source: source
            });

            const params = new URLSearchParams({
                access: accessType,
                source: 'confirmation'
            });

            if (accessType === 'nft' && walletAddress) {
                params.append('wallet', walletAddress);
            }

            window.location.href = `05-ebook-reader.html?${params.toString()}`;
        }

        function downloadBook() {
            gtag('event', 'download_book', {
                access_type: accessType,
                format: 'pdf'
            });

            // Simulate download
            const link = document.createElement('a');
            link.href = '#';
            link.download = 'digital-marketing-mastery.pdf';
            link.click();

            showNotification('üì• Download Started', 'Your book is being prepared for download');
        }

        function downloadNFT() {
            gtag('event', 'nft_action', {
                access_type: accessType,
                wallet_address: walletAddress,
                action: accessType === 'nft' ? 'view_nft' : 'download_certificate'
            });

            if (accessType === 'nft') {
                // For NFT holders - show NFT details or link to collection
                showNFTDetails();
            } else {
                // For purchasers - download NFT certificate
                const link = document.createElement('a');
                link.href = '#';
                link.download = 'nft-certificate.json';
                link.click();

                showNotification('üéÅ NFT Certificate', 'Your digital ownership certificate is ready');
            }
        }

        function showNFTDetails() {
            // Show NFT details modal or redirect to NFT marketplace
            const nftModal = document.createElement('div');
            nftModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 2000;
            `;

            nftModal.innerHTML = `
                <div style="
                    background: white;
                    padding: 2rem;
                    border-radius: 12px;
                    max-width: 500px;
                    text-align: center;
                    position: relative;
                ">
                    <button onclick="this.parentElement.parentElement.remove()" style="
                        position: absolute;
                        top: 1rem;
                        right: 1rem;
                        background: none;
                        border: none;
                        font-size: 1.5rem;
                        cursor: pointer;
                        color: #666;
                    ">√ó</button>
                    
                    <div style="font-size: 4rem; margin-bottom: 1rem;">üé®</div>
                    <h3 style="color: #1f2937; margin-bottom: 1rem;">Your NFT Access</h3>
                    <p style="color: #4b5563; margin-bottom: 1.5rem;">
                        Your NFT from Kane's Premium Collection grants you free access to this book and other premium content.
                    </p>
                    
                    <div style="background: #f3f4f6; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
                        <p><strong>Collection:</strong> Kane's Premium Collection</p>
                        <p><strong>Token ID:</strong> ${nftTokenId || '#1234'}</p>
                        <p><strong>Wallet:</strong> ${walletAddress ? walletAddress.substring(0, 6) + '...' + walletAddress.substring(38) : 'Connected'}</p>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button onclick="window.open('https://opensea.io/collection/kanes-premium-collection', '_blank')" style="
                            background: #3b82f6;
                            color: white;
                            border: none;
                            padding: 0.75rem 1.5rem;
                            border-radius: 6px;
                            cursor: pointer;
                            font-weight: 600;
                        ">View on OpenSea</button>
                        
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" style="
                            background: #6b7280;
                            color: white;
                            border: none;
                            padding: 0.75rem 1.5rem;
                            border-radius: 6px;
                            cursor: pointer;
                            font-weight: 600;
                        ">Close</button>
                    </div>
                </div>
            `;

            document.body.appendChild(nftModal);

            showNotification('üé® NFT Details', 'Your NFT grants premium access benefits');
        }

        function continueShopping() {
            gtag('event', 'continue_shopping', {
                access_type: accessType,
                source: 'confirmation'
            });

            window.location.href = 'index.html';
        }

        function showNotification(title, message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #10b981;
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 8px 25px rgba(0,0,0,0.1);
                z-index: 1000;
                font-weight: 600;
                max-width: 300px;
            `;
            notification.innerHTML = `
                <div style="font-size: 1.1rem; margin-bottom: 0.5rem;">${title}</div>
                <div style="opacity: 0.9; font-size: 0.9rem;">${message}</div>
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 4000);
        }

        // Initialize wallet connection if needed
        if (walletAddress) {
            document.getElementById('connect-wallet-btn').style.display = 'none';
            document.getElementById('wallet-status').style.display = 'block';
            document.getElementById('connected-wallet').textContent = walletAddress.substring(0, 6) + '...' + walletAddress.substring(38);
        }
    </script>
</body>

</html>